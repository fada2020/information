<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Gentelella Alela! | </title>

    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
	<link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">

    <!-- bootstrap-datetimepicker -->
    <link href="../vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <style>
    	#table1 thead, th {text-align: center;}
		#table1 tbody tr{
		    cursor:pointer;
		}
	</style>

  </head>
  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
      	<!-- sidebar -->
		<div th:insert="/fragments/sidebar :: sidebar" th:remove="tag"></div>
        <!-- sidebar -->

        <!-- top navigation -->
        <div th:insert="/fragments/top_nav :: top_nav" th:remove="tag"></div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>IT資産情報修正</h3>
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="row">
            <form action="/asset/update" method="POST" role="form" class="form-horizontal">
	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
	  						<span>管理番号</span>
	  					</div>
	  					<div class="col-md-3">
			  				<input type="text" class="form-control" name="assetNumber" th:value="${asset.assetNumber}">
			  			</div>
			  			<div class="col-md-3">
			  				<span>区分</span>
			  			</div>
			  			<div class="col-md-3">
		                	<select class="form-control" id="psNum_search">
		                		<option value="000">区分</option>
		                		<option th:each="code : ${productCode}" th:value="${code.codeDetailId}" th:selected="${code.codeDetailId == asset.kubunCode}"
		                		th:inline="text">[[${code.item2}]]</option>
							</select>
			  			</div>
	  				</div>
	  			</div>
	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
		  					<span>購入日</span>
		  				</div>
		  				<div class="col-md-3">
						<div class="input-group date" id="myDatepicker">
							<input type="text" class="form-control" name="purchaseDate" th:value="${asset.purchaseDate}">
							<span class="input-group-addon">
							<span class="glyphicon glyphicon-calendar"></span>
						 </span>
						</div>
		  				</div>
		  				<div class="col-md-3">
		  					<span>保証期間</span>
		  				</div>
		  				<div class="col-md-3">
		  					<input type="text" class="form-control" name="warrantyPeriod" th:value="${asset.warrantyPeriod}">
		  				</div>
	  				</div>
	  			</div>

	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
	  						<span>購入先</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="buyTo" th:value="${asset.buyTo}">
	  					</div>
	  					<div class="col-md-3">
	  						<span>購入金額</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="purchasePrice" th:value="${asset.purchasePrice}">
	  					</div>
	  				</div>
	  			</div>
	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
	  						<span>保管位置</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="storageLocation" th:value="${asset.storageLocation}">
	  					</div>
	  					<div class="col-md-3">
	  						<span>状態</span>
	  					</div>
	  					<div class="col-md-3">
		                	<select class="form-control" id="sNumber_search">
								<option value="000">状態</option>
		                		<option th:each="code : ${stateCode}" th:value="${code.codeDetailId}" th:selected="${code.codeDetailId == asset.statusCode}"
		                		th:inline="text">[[${code.codeDetailName}]]</option>
							</select>
	  					</div>
	  				</div>
	  			</div>

	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
	  						<span>Maker</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="maker" th:value="${asset.makerName}">
	  					</div>
	  					<div class="col-md-3">
	  						<span>Model</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="model" th:value="${asset.modelName}">
	  					</div>
	  				</div>
	  			</div>
	  			<div class="col-md-6">
	  				<div class="row">
	  					<div class="col-md-3">
	  						<span>S/N</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="serialNum" th:value="${asset.serialNum}">
	  					</div>
	  					<div class="col-md-3">
	  						<span>I/F</span>
	  					</div>
	  					<div class="col-md-3">
	  						<input type="text" class="form-control" name="interFaceCol" th:value="${asset.interFaceCol}">
	  					</div>
	  				</div>
	  			</div>

	  			<div class="col-md-12">
	  				<span>OS</span>
	  			</div>
	  			<div class="col-md-3">
	  				<span>名(Edition)</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="OSName" th:value="${asset.osName}">
	  			</div>
	  			<div class="col-md-3">
	  				<span>Product Key</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="OSProductKey" th:value="${asset.osProductKey}">
	  			</div>

	  			<div class="col-md-12">
	  				<span>CPU</span>
	  			</div>
	  			<div class="col-md-3">
	  				<span>Processor</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="CPUProcessor" th:value="${asset.cpuProcessor}">
	  			</div>
	  			<div class="col-md-3">
	  				<span>動作周波数</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="operatingFrequency" th:value="${asset.operatingFrequency}">
	  			</div>

	  			<div class="col-md-6">
	  				<span>Memory</span>
	  			</div>
	  			<div class="col-md-6">
	  				<span>HDD</span>
	  			</div>
	  			<div class="col-md-2">
	  				<input type="text" class="form-control" name="memory" th:value="${asset.memory}">
	  			</div>
	  			<div class="col-md-2">
	  				<span>Upgarde</span>
	  			</div>
	  			<div class="col-md-2">
	  				<input type="text" class="form-control" name="memoryUpgarde" th:value="${asset.memoryUpgarde}">
	  			</div>
	  			<div class="col-md-2">
	  				<input type="text" class="form-control" name="HDD" th:value="${asset.hdd}">
	  			</div>
	  			<div class="col-md-2">
	  				<span>Upgarde</span>
	  			</div>
	  			<div class="col-md-2">
	  				<input type="text" class="form-control" name="HDDUpgarde" th:value="${asset.hddUpgarde}">
	  			</div>

	  			<div class="col-md-12">
	  				<span>MAC</span>
	  			</div>
	  			<div class="col-md-3">
	  				<span>LAN</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="MACLAN" th:value="${asset.macLan}">
	  			</div>
	  			<div class="col-md-3">
	  				<span>Wireless</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="MACWireless" th:value="${asset.macWireless}">
	  			</div>

	  			<div class="col-md-12">
	  				<span>その他</span>
	  			</div>
	  			<div class="col-md-12">
	  				<input type="text" class="form-control" name="other" th:value="${asset.other}">
	  			</div>

	  			<div class="col-md-12">
	  				<span>Security</span>
	  			</div>
	  			<div class="col-md-3">
	  				<span>BIOS</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="securityBIOS" th:value="${asset.securityBios}">
	  			</div>
	  			<div class="col-md-3">
	  				<span>HDD</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="securityHDD" th:value="${asset.securityHdd}">
	  			</div>

	  			<div class="col-md-12">
	  				<span>Admin.Account</span>
	  			</div>
	  			<div class="col-md-3">
	  				<span>ID</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="adminAccountID" th:value="${asset.adminAccountId}">
	  			</div>
	  			<div class="col-md-3">
	  				<span>PW</span>
	  			</div>
	  			<div class="col-md-3">
	  				<input type="text" class="form-control" name="adminAccountPW" th:value="${asset.adminAccountPwd}">
	  			</div>
	  			<div class="col-md-12 text-right">
	  				<button type="button" class="btn btn-primary" onclick = "location.href ='/asset'">戻る</button>
	  				<button type="submit" class="btn btn-primary pull-right">修正</button>
	  			</div>
	  		</form>

		  		<div class="col-md-12">
		  			<div class="x_panel">
						<div class="x_title">
							<h2>付属品</h2>
							<ul class="nav navbar-right panel_toolbox">
							<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
							</li>
							<li><a class="close-link"><i class="fa fa-close"></i></a>
							</li>
							</ul>
							<div class="clearfix"></div>
						</div>
						<div class="x_content" style="display: block;">
							<div class="table-responsive">
								<table class="table table-striped jambo_table bulk_action text-center" id="table1">
									<thead>
										<tr class="headings">
											<th class="col-md-1">No </th>
											<th class="col-md-2">品名 </th>
											<th class="col-md-2">仕樣 </th>
											<th class="col-md-1">数量 </th>
											<th class="col-md-6">備考 </th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr class="even pointer">
											<td></td>
											<td><input id="itemName" type="text" class="form-control"></td>
											<td><input id="trick" type="text" class="form-control"></td>
											<td><input id="quantity" type="text" class="form-control"></td>
											<td><input id="remarks" type="text" class="form-control"></td>
											<td class="a-center ">
												<a id="add" class="btn btn-info btn-xs"><i class="fa fa-plus-square"></i></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
		  		</div>

		  		<div class="col-md-12">
		  			<div class="x_panel">
						<div class="x_title">
							<h2>保守履歴</h2>
							<ul class="nav navbar-right panel_toolbox">
							<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
							</li>
							<li><a class="close-link"><i class="fa fa-close"></i></a>
							</li>
							</ul>
							<div class="clearfix"></div>
						</div>
						<div class="x_content" style="display: block;">
							<div class="table-responsive">
								<table class="table table-striped jambo_table bulk_action" id="table2">
									<thead>
										<tr class="headings">
											<th class="col-md-2">実施日 </th>
											<th class="col-md-6">実施内容 </th>
											<th class="col-md-2">担当 </th>
											<th class="col-md-2">承認 </th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr class="even pointer">
											<td><input type="text" class="form-control"></td>
											<td><input type="text" class="form-control"></td>
											<td><input type="text" class="form-control"></td>
											<td><input type="text" class="form-control"></td>
											<td class="a-center">
												<a id="add" class="btn btn-info btn-xs"><i class="fa fa-plus-square"></i></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
		  		</div>

		  	</div>
          </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <div th:insert="/fragments/footer :: footer" th:remove="tag"></div>
        <!-- /footer content -->
      </div>
    </div>

    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>

	<!-- jquery-ui -->
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<!-- DataTable -->
	<script th:src="@{/DataTables-1.10.20/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/DataTables-1.10.20/js/dataTables.bootstrap4.min.js}"></script>

    <!-- FastClick -->
    <script src="../vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="../vendors/nprogress/nprogress.js"></script>
    <!-- iCheck -->
    <script src="../vendors/iCheck/icheck.min.js"></script>
    <!-- bootstrap-datetimepicker -->
    <script src="../vendors/moment/min/moment.min.js"></script>
    <script src="../vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>

    <!-- page script -->
    <script th:inline="javascript">
    /*<![CDATA[*/
        $('#myDatepicker').datetimepicker({
            format: 'YYYY/MM/DD'
        });

    	var productCodeMap = new Map();
		var productCode = /*[[${productCode}]]*/;
    	productCode.forEach(function( value ) {
    		productCodeMap.set(value.psNum, value.pname);
    	});
    	var stateCodeMap = new Map();
    	var stateCode = /*[[${stateCode}]]*/;
    	stateCode.forEach(function( value ) {
    		stateCodeMap.set(value.snumber, value.state);
    	});

        $(function(){
            $('#add').on('click', function () {
            	var selectTr = $(this).closest("tr");

            	var accessories ={"no" : selectTr.find("#no").val(),
            			"itemName" : selectTr.find("#itemName").val(),
            			"trick" : selectTr.find("#trick").val(),
            			"quantity" : selectTr.find("#quantity").val(),
            			"remarks" : selectTr.find("#remarks").val()
            	};

            	$.ajax(/*[[@{/ITAsset/add}]]*/ 'ITAsset/add',
            		      {
		                	type: "POST",
		                	dataType: "json",
		                	contentType: 'application/JSON',
		                	data : JSON.stringify(accessories)
            		      }
            		    )
            		    .done(function(data) {
            		    	 $('#table1 tbody').append(
            		    			 '<tr>'
            		    			 +'<td>'+data.no+'</td>'
            		    			 +'<td><input type="text" class="form-control" value="'+data.itemName+'"></td>'
            		    			 +'<td><input type="text" class="form-control" value="'+data.trick+'"></td>'
            		    			 +'<td><input type="text" class="form-control" value="'+data.quantity+'"></td>'
            		    			 +'<td><input type="text" class="form-control" value="'+data.remarks+'"></td>'
            		    			 +'<td class="a-center"><a id="add2" class="btn btn-warning btn-xs"><i class="fa fa-cog"></i></a></td>'
            		    			 +'</tr>'
            		    	 );
            		    })
            });

            $('#table1 tbody').on("click","#add2", function() {
                alert("クリック！");
            });
        })
    /*]]>*/
    </script>

</body>
</html>