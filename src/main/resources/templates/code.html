<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>IT資産管理</title>

    <!-- favicons -->
	<link rel="icon" href="../images/aisRogo.png">
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
   <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">
  </head>
  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
      	<!-- sidebar -->
		<div th:insert="/fragments/sidebar :: sidebar" th:remove="tag"></div>
        <!-- sidebar -->

        <!-- top navigation -->
        <div th:insert="/fragments/top_nav :: top_nav" th:remove="tag"></div>
        <!-- /top navigation -->

        <!-- page content -->

<!-- page content -->
		<!-- ここからコンテンツ作成 -->
        <div class="right_col" role="main">
		<div class="">
			<div class="page-title">
              <div class="title_left">
                <h3><i class="fa fa-cogs"></i>　コード管理</h3>
              </div>
			</div><!-- /.page-title -->
			<div class="clearfix"></div>
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">
					<div class="x_panel">
						<div class="x_title">
		                    <div class="well" style="overflow: auto">
		                      <div class="col-md-4">
		                        <label class="col-form-label col-md-3 col-sm-3 label-align" for="search_id">コードID</label>
		                        <div class="col-md-6 col-sm-6 ">
		                          <input type="text" id="search_id" class="form-control ">
		                        </div>
		                      </div>
		                      <div class="col-md-4">
		                        <label class="col-form-label col-md-3 col-sm-3 label-align" for="search_name">コード名称</label>
		                        <div class="col-md-6 col-sm-6 ">
		                          <input type="text" id="search_name" class="form-control ">
		                        </div>
		                      </div>
		                      <div class="col-md-4">
		                      	<button type="button" class="btn btn-round btn-success" id="searchBtn"><i class="fa fa-search" aria-hidden="true"></i> 検索</button>
		                      	<button type="button" class="btn btn-round btn-info" data-toggle="modal" data-target="#modalCodeMaster">
		                      	<i class="fa fa-pencil-square" aria-hidden="true"></i> 新規登録</button>
		                      </div>
		                    </div><!-- /.well -->
						</div><!-- /.x_title -->
						<div class="x_content">
							<div class="table-responsive">
							<table id="datatable-list" class="table table-striped jambo_table bulk_action" style="width:100%">
		                      <thead>
		                        <tr class="headings">
		                         <!--  <th class="column-title txt_center">No.</th> -->
		                          <th class="column-title txt_center">コードID</th>
		                          <th class="column-title txt_center">コード名称</th>
		                          <th class="column-title txt_center">使用有無</th>
		                          <th class="column-title txt_center"></th>
		                        </tr>
		                      </thead>
		                     	<!-- List 出力 -->
		                     	<tbody>
		                     	<!--객체명  -->

			                     	<!-- <tr th:each="codemaster : ${codemaster.codeMasterList}">
										<td id="codeMasterId" th:text="${codemaster.codeMasterId}"></td>
										<td th:switch="${codemaster.useFlag}">
			                     				 <p th:case =="0" style="color:blue;">使用中</p>
        							    		 <p th:case =="1" style="color:red;">未使用</p>
        							    </td>
        							    <td class="txt_center txt_middle">
												<button type="button" class="btn btn-warning btn-sm btn-detail"><i class="fa fa-file-text"></i> 詳細</button>
										</td>
			                     	 </tr> -->
		                     		<!--<tr th:each="accessories : ${asset.accessoriesList}">
											<td id="accessoriesSeq" th:text="${accessories.accessoriesSeq}"></td>
											<td><input type="text" class="form-control" id="itemName" th:value="${accessories.itemName}"></td>
											<td><input type="text" class="form-control" id=itemSpec th:value="${accessories.itemSpec}"></td>
											<td><input type="text" class="form-control" id="itemQuantity" th:value="${accessories.itemQuantity}"></td>
											<td><input type="text" class="form-control" id="remarks" th:value="${accessories.remarks}"></td>
											<td class="a-center"><a id="updateAccessories" class="btn btn-warning btn-xs"><i class="fa fa-cog"></i></a></td>
											<td class="a-center"><a id="deleteAccessories" class="btn btn-danger btn-xs"><i class="fa fa-trash"></i></a></td>
										</tr> -->


		                     		<tr th:each="codemaster : ${codemaster}">
											<td></td>
			                     			<!-- <td th:text="${codemaster.count}"></td> -->
			                     			<td th:text="$codemaster.codeMasterId}"></td>
											<td th:text="${codemaster.codeMasterName}"></td>
			                     			<td th:switch="${codemaster.useFlag}">
			                     				 <p th:case =="0" style="color:blue;">使用中</p>
        							    		 <p th:case =="1" style="color:red;">未使用</p>
        							    	</td>
		                     				<td class="txt_center txt_middle">
												 <button type="button" class="btn btn-warning btn-sm btn-detail"><i class="fa fa-file-text"></i> 詳細</button>
											</td>
		                     		</tr>

		                     	</tbody>
		                     <!--/. List 出力 -->

							</table>
							</div><!-- /.table-responsive -->
						</div><!-- /.x_content -->
					</div><!-- /.x_panel -->
				</div>
			</div><!-- /.row -->

		</div>
        </div><!-- /.right_co -->
 		<!-- ここまでのコンテンツ作成 -->
        <!-- /page content -->
        <!-- footer content -->
        <div th:insert="/fragments/footer :: footer" th:remove="tag"></div>
        <!-- /footer content -->
      </div>
    </div>


		<!-- Modal Part コードマスタ登録 -->
	<div id="modalCodeMaster" class="modal" tabindex="-1" role="dialog">
 		 <div class="modal-dialog" role="document">
   		 <div class="modal-content">
     	 <div class="modal-header">
       		 <h5 class="modal-title"><i class="fa fa-pencil-square" aria-hidden="true"></i> コードマスタ登録</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          	<span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
		<div style="padding: 5px 20px;">
		  <form id="antoform" class="form-horizontal calender" role="form" method="GET" action="/codemaster" name = "frm">
			<div class="form-group">
			  <label class="col-sm-3 control-label"><span style="color:red; font-size:1.25em;">*</span> コードID</label>
			  <div class="col-sm-9">
			  	<fieldset>
				<input type="text" class="form-control form-control-sm" id="codeMasterId" name="codeMasterId" placeholder="ex)001" required/>
			 	</fieldset>
			  </div>
			</div>
			<div class="clearfix"></div>
			<div class="form-group">
			  <label class="col-sm-3 control-label"><span style="color:red; font-size:1.25em;">*</span> コード名称</label>
			  <div class="col-sm-9">
			  	<fieldset>
				<input type="text" class="form-control form-control-sm" id="codeMasterName" name="codeMasterName" placeholder="コード名称" required/>
			  	</fieldset>
			  </div>
			</div>
			<div class="clearfix"></div>
			<div class="form-group">
			  <label class="col-sm-3 control-label">詳細</label>
			  <div class="col-sm-9">
				<input type="text" class="form-control form-control-sm" id="remart" name="remart">
			  </div>
			</div>
			<div class="clearfix"></div>
			<div class="form-group">
			  <label class="col-sm-3 control-label">使用有無</label>
			  <div class="col-sm-9">
                 <div id="use" class="btn-group" style="padding:5px;">
					<label style="color:blue;"><input type="radio" name="use_flag" value="0">&nbsp; 使用 &nbsp;</label>
					<label style="color:red"><input type="radio" name="use_flag" value="1" checked>&nbsp; 未使用 &nbsp;</label>
                 </div>
			  </div>
			</div>
			<div class="modal-footer">
      			<input type ="submit" value="登録" id="AddMasterCode" />
        <!-- <button type="button" class="btn btn-primary"  onclick = "location.href = '/codemaster'"><i class="fa fa-check-circle" ></i> 登録</button> -->
       			 <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa fa-times-circle"></i> 閉じる</button>
     	 </div>
		  </form>
      </div>



    </div>
  </div>
</div>
</div>
<!-- /.Modal Part :: Register End -->


    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>

	<!-- jquery-ui -->
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<!-- DataTable -->
	<script th:src="@{/DataTables-1.10.20/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/DataTables-1.10.20/js/dataTables.bootstrap4.min.js}"></script>

    <!-- FastClick -->
    <script src="../vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="../vendors/nprogress/nprogress.js"></script>
    <!-- iCheck -->
    <script src="../vendors/iCheck/icheck.min.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>



    <!-- page script -->


    <script th:inline="javascript">
    /*<![CDATA[*/
        var modalesectiondata = null;
        $(function(){

            // datatableの設定を変更
            var modalesectiontable = $("#table1").DataTable({
            	fixedHeader: true,
            	"processing": true,
            	"serverSide": true,
            	"start": 0,
                "length": 10,
                "searching": false,
                "paging": true,
                "lengthChange": false,
                "ordering": false,

                "ajax": {
                	url: /*[[@{/getuserlist}]]*/ 'getuserlist',
                	type: "POST",
                	dataType: "json",
                	contentType: 'application/JSON',
                	data: function ( d ) {
                        //d.extra_search = $('#extra').val();
                        return JSON.stringify(d);
                    }
                },
                "columns": [
                    { data: "username" },
                    { data: "mailaddress" },
                ],
                "columnDefs": [
                    { targets: 0, width: 60 },
                    { targets: 1, width: 180 }
                ]
            });

            // Setup - add a text input to each footer cell
            $('#table1 thead tr').clone(true).appendTo( '#table1 thead' );
            /* $('#table1 thead tr:eq(1) th').each( function (i) {
                var title = $(this).text();
                $(this).html( '<input type="text" placeholder="Search '+title+'" />' );

                $( 'input', this ).on( 'keyup change', function () {
                    if ( modalesectiontable.column(i).search() !== this.value ) {
                    	modalesectiontable
                            .column(i)
                            .search( this.value )
                            .draw();
                    }
                } ); */
            } );

        })
    /*]]>*/
    </script>

</body>
</html>