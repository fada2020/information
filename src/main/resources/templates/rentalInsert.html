<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Meta, title, CSS, favicons, etc. -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>IT資産管理</title>

<!-- favicons -->
<link rel="icon" href="../images/aisRogo.png">
<!-- Bootstrap -->
<link href="../vendors/bootstrap/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Font Awesome -->
<link href="../vendors/font-awesome/css/font-awesome.min.css"
	rel="stylesheet">
<!-- NProgress -->
<link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
<!-- iCheck -->
<link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">

<!-- bootstrap-datetimepicker -->
<link
	href="../vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css"
	rel="stylesheet">

<!-- Custom Theme Style -->
<link href="../build/css/custom.min.css" rel="stylesheet">
</head>
<body class="nav-md">
	<div class="container body">
		<div class="main_container">
			<!-- sidebar -->
			<div th:insert="/fragments/sidebar :: sidebar" th:remove="tag"></div>
			<!-- sidebar -->

			<!-- top navigation -->
			<div th:insert="/fragments/top_nav :: top_nav" th:remove="tag"></div>
			<!-- /top navigation -->




			<div class="right_col" role="main" style="min-height: 5907px;">
				<div class="">

					<div class_="row">
						<div class="col-md-6 ">
							<div class="x_panel">
								<div class="x_title">
									<h2>
										貸与申請 <small>AIS</small>
									</h2>

									<div class="clearfix"></div>
								</div>
								<div class="x_content">
									<br>
									<div class="form-group row ">
										<label class="control-label col-md-3 col-sm-3 ">日付</label>
										<div class="col-md-9 col-sm-9 ">
											<input type="text" class="form-control col-md-10"
												id="todayDate" th:value="${#dates.createNow()}"
												readonly="readonly">
										</div>
									</div>

									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">使用者</label>
										<div class="col-md-9 col-sm-9 ">
											<input type="text" name="rentUser"
												class="form-control col-md-10" />
										</div>
									</div>
									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">用途</label>
										<div class="col-md-9 col-sm-9 ">
											<input type="text" class="form-control col-md-10"
												id="purpose" value="勤務">
										</div>
									</div>
									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">場所</label>
										<div class="col-md-9 col-sm-9 ">
											<input type="text" id="storageLocation" value="自社"
												class="form-control col-md-10">
										</div>
									</div>
									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">特記事項</label>

										<div class="col-md-9 col-sm-9 ">
											<input type="text" id="speciality"
												class="form-control col-md-10">
										</div>
									</div>
									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">分類</label>
										<div class="col-md-9 col-sm-9 ">
											<select class="form-control" id="singleSelect"
												name="selectedItem" onchange="getSubItem()">
												<option value="">選択</option>
												<option th:each="productKindCode : ${productKindCode}"
													th:value="${productKindCode.pcnum}"
													th:text="${productKindCode.pcname}"></option>
											</select>

										</div>
									</div>
									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">種類</label>

										<div class="col-md-9 col-sm-9 ">

											<select class="select2_multiple form-control"
												id="sub_singleSelect" name="sub_selectedItem"
												onchange="getSubSubItem()">

												<option value="">選択</option>
											</select>

										</div>

									</div>


									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">選択</label>
										<div class="col-md-9 col-sm-9 ">
											<select class="select2_multiple form-control"
												id="sub_subSelect" name="selectedSubItem"
												onchange="writeItem()">
												<option value="">選択</option>

											</select>
										</div>
									</div>





									<div class="form-group row">
										<label class="control-label col-md-3 col-sm-3 ">貸与目録</label><br>
									</div>
									<div class="form-group row">
										<table id="selectedAsset">
											<tr>
												<th class="col-md-2">貸与番号</th>
												<th class="col-md-1">貸与者</th>
												<th class="col-md-1">分類</th>
												<th class="col-md-1">種類</th>
												<th class="col-md-1">管理番号</th>
												<th class="col-md-1">用途</th>
												<th class="col-md-1">場所</th>
												<th class="col-md-1">特記事項</th>
											</tr>

											<tbody></tbody>
										</table>

									</div>


								</div>
								<div class="ln_solid"></div>

							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
		<!-- /page content -->

		<!-- footer content -->
		<div th:insert="/fragments/footer :: footer" th:remove="tag"></div>
		<!-- /footer content -->
	</div>
	</div>
	<!-- jQuery -->
	<script src="../vendors/jquery/dist/jquery.min.js"></script>
	<!-- Bootstrap -->
	<script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>

	<!-- jquery-ui -->
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<!-- DataTable -->
	<script th:src="@{/DataTables-1.10.20/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/DataTables-1.10.20/js/dataTables.bootstrap4.min.js}"></script>

	<!-- FastClick -->
	<script src="../vendors/fastclick/lib/fastclick.js"></script>
	<!-- NProgress -->
	<script src="../vendors/nprogress/nprogress.js"></script>
	<!-- iCheck -->
	<script src="../vendors/iCheck/icheck.min.js"></script>
	<!-- bootstrap-datetimepicker -->
	<script src="../vendors/moment/min/moment.min.js"></script>
	<script
		src="../vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
	<!-- Custom Theme Scripts -->
	<script src="../build/js/custom.min.js"></script>

	<script src="../vendors/jquery.tagsinput/src/jquery.tagsinput.js"
		type="text/javascript"></script>
	<!-- page script -->

	<script th:inline="javascript">

		function getSubItem() {

			$('#singleSelect').click(
					function() {
						$.getJSON("/rental/selectFirst", {
							pcNum : $(this).val(),
							ajax : 'true'
						}, function(data) {
							var html = '<option value="">選択</option>';
							data.forEach(function(value) {

								html += '<option value="' +value.psNum + '">'
										+ value.pname + '</option>';
							})
							$('#sub_singleSelect').html(html);
						});
					});

		}
	</script>
	<script th:inline="javascript">
		function getSubSubItem() {

			$('#sub_singleSelect').click(
					function() {
						$.getJSON("/rental/selectSecond", {
							psNum : $(this).val(),
							ajax : 'true'
						}, function(data) {
							var html = '<option value="">選択</option>';

							data.forEach(function(value) {
								html += '<option value="' + value.psNum + '">'
										+ value.assetNumber + '</option>';
							})
							$('#sub_subSelect').html(html);

						});
					});

		}
	</script>
	<script th:inline="javascript">

		function writeItem() {

			var assetNumber = $('#sub_subSelect').text();
			alert(assetNumber);
			var todayDate = $('#todayDate').val();
			alert(todayDate);
			var rentUser = $('#rentUser').val();
			var pcCode = $('#singleSelect').val();
			var psNum = $('#sub_singleSelect').val();

			$('#sub_subSelect').click(
							function() {


	$('#selectedAsset tbody').append('<tr><td>'+assetNumber+'</td><td>'+pcCode+'</td><td>'+assetNumber+'</td><td>'+assetNumber+'</td><td>'+assetNumber+'</td><td>'+assetNumber+'</td><td>'+assetNumber+'</td><td>'+assetNumber+'</td></tr>');
												});
		}

	</script>



</body>
</html>
